<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      rel="stylesheet"
      href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css"
    />

    <title>scrollprogress</title>

    <style>
      body,
      .jumbotron {
        padding: 30px;
      }
      body {
        background: #efefef;
      }
      .content {
        background: #fff;
        padding: 50px;
        font-size: 19px;
        line-height: 1.5;
        min-height: 3000px;
      }
      .scroll-line {
        top: 0;
        height: 20px;
        left: 0;
        position: fixed;
        background: #1ce;
        transition: 1s cubic-bezier(0.075, 0.82, 0.165, 1) width;
      }
    </style>
  </head>
  <body>
    <div class="scroll-line"></div>

    <div class="container">
      <div class="content">
        Lorem ipsum dolor sit amet consectetur adipisicing elit. Iusto
        voluptatibus officiis eligendi quam nostrum ipsam repellat ut? Nisi,
        nobis quo soluta similique cupiditate sed error facilis vel, aliquam
        officia ipsam. Lorem ipsum dolor sit amet consectetur, adipisicing elit.
        Blanditiis omnis non distinctio at. Repudiandae quo cum consectetur
        minima, accusantium sint. Libero fuga sed dignissimos optio est tempore
        vel tenetur temporibus!
      </div>
    </div>

    <script>
      //grab all we need
      const scrollLine = document.querySelector(".scroll-line");

      //write our functions
      function fillScrollLine() {
        const windowHeight = window.innerHeight;
        const fullHeight = document.body.clientHeight;
        const scrolled = window.scrolly;
        const percentScrolled = (scrolled / (fullHeight - windowHeight)) * 100;
        scrollLine.style.with = `${percentScrolled}%`;
      }

      //add event lesteners
      window.addEventListener("scroll", fillScrollLine);

      function debounce(func, wait = 15, immediate) {
        var timeout;
        return function () {
          var context = (this.args = argument);
          var later = function () {
            timeout = null;
            if (!immediate) func.apply(context, args);
          };
          var callNow = immediate && !timeout;
          clearTimeout(timeout);
          timeout = setTimeout(later, wait);
          if (callNow) func.apply(context, args);
        };
      }
    </script>
  </body>
</html>
